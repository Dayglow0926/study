# Open Close Principle(OCP)

* 개방 폐쇄 원칙(OCP)
    * 확장에는 자유롭게 열려 있으며, 변경에는 굳게 닫혀 있다는 객체지향 설계의 원칙
* 개방 폐쇄 원칙의 특성을 활용하는 방법
    1. 바뀌는 성질이 다른 코드 중에서 변경이 거의 일어나지 않고
    2. 일정한 패턴으로 유지되는 특성을 가진 부분을 자유롭게 변경되는 성질을 가진 부분을 독립시키는 방법

## 템플릿 메소드 패턴

* 반복되고 중복되는 부분을 추출한다.
* 상속을 통해 기능을 확장해서 사용
* 변하지 않는 부분은 슈퍼클래스에 두고
* 변하는 부분은 추상 메소드로 정의해서 서브클레스에서 오버라이드하여 새롭게 정의하여 쓰도록 만드는 것

## 전략 패턴

* OCP이면서 템플릿 메소드 패턴보다 유연하고 확장성이 뛰어남
* 오브젝트를 둘로 분리하고 클래스 레벨에서는 인터페이스를 통해서만 의존하도록 만드는 전략 패턴
* 확장에 해당되는 변하는 부분을 별도의 클래스로 만들어 추상화된 인터페이스를 통해 위임하는 방식

## 템플릿과 콜백

* 전략 패턴의 기본 구조에 익명 내부 클래스를 활용한 방식
* 전략 패턴의 컨텍스트를 템플릿, 익명 내부 클래스로 만들어지는 오브젝트를 콜백이라 한다.

### 나름의 결론?

1. 기능만 바뀌는 코드가 있다면 전략 패턴을 적용
    * 바뀌지 않는 부분은 컨텍ㄷ스트
    * 변하는 부분은 전략으로 만들고 인터페이스를 통해 유연하게
2. 컨텍스트가 하나 이상의 클라이언트 오브젝트에서 사용된다면 클래스를 분리하여 공유하도록 만든다.
3. 컨텍스트는 별도의 빈으로 등록해서 DI 또는 클라이언트 클래스에서 직접 생성하여 사용한다.
4. 콜백의 코드도 일정한 패턴이 반복된다면 템플릿에 넣고 재활용하는 것이 좋다.
5. 템플릿과 콜백의 타입이 다양하다면 제네릭스를 이용!
6. 굳이 다 구현할 필요없이 JdbcTemplete를 이용!
    * 물론, 동작 방식과 만들어진 이유를 이해하고 써야함
7. 템플릿/콜백을 설계할 때, 템플릿과 콜백 사티에 주고받는 정보에 관심을 가져야 한다.
