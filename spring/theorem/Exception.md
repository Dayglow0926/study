# 예외처리

* 예외가 발생하는 API 등을 사용할 때, 예외 처리는 필요하지만 아래와 같이 try/catch 블록만 사용하여 처리하면 유지보수 측면에서 아주아주아주 좋지 않다.
* 또한 예외 처리부분을 콘솔에 찍는 등의 처리만 해서는 운영 환경에서 문제를 파악할 수 없고, 적절한 처리 또는 알람이 필요하다.
* 모든 예외를 'Exception'으로 처예하면 어떤 에러인지 파악할 수 없고, 그 메소드 또는 API를 사용할 경우에도 똑같이 Exception으로 모든걸 처리하게 되어 버린다.

```JAVA
void willThrows throws Exception {
    // 발생될 예외를 throws 한다.
    ...
    try {
        ...
    } catch (Exception e) {
        e.printStackGTrace();
        // 아무것도 처리하지 않거나 위와같이 로그만 찍는다면 개발 환경에서는 파악할 수 있으나 운영 환경에서 분석이 아주아주아주 힘들어진다.
    }
    ...
}
```

## 예외의 종류와 특징

* 명시적인 처리가 필요한 예외를 다루는 체크 예외
* 자바에서 throw를 통해 발생시킬 수 있는 예외는 크게 3가지가 있다.
    1. Error
        * 시스템에서 비정상적인 상황이 발생했을 경우 사용된다.
        * 자바 VM에서 발생되며, 애플리케이션 코드에서 잡아서는 안 된다.
        * 대표적으로 OutOfMemoryError, ThreadDeath
        * 시스템 레벨에서 작업되는게 아니라면 애플리케이션은 이러한 에러 처리는 신경쓰지 않아도 된다.
    2. Ecxeption과 체크 에러
        * java.lang.Exception 클래스와 그 서브클래스로 정의되는 예외
        * 이는 애플리케이션 코드의 작업 중 예외상황이 발생할 경우에 사용된다.
        * Exception 예외는 Unchecked Exception과 Checked Exception으로 나뉜다.
        * Checked Exception은 Exception의 서브클래스이며 RuntimeException 클래스를 상속하지 않은 예외
            * 이러한 Checked Exception이 발생 할 메소드를 사용할 경우 반드시 예외 처리 코드를 작성해야만 한다.
            * 예외 처리를 하지않을 경우, 컴파일 에러가 발생한다.
            * 애플리케이션 로직상에서 의도적으로 발생시킬 수 있다.
        * Unchecked Exception은 RuntimeException을 상속한 클래스를 말한다.
            * 이러한 예외가 발생될 메소드를 사용하더라도 꼭 예외 처리를 하지 않아도 컴파일 및 프로그램은 동작하지만, 에러가 발생 할 경우 문제가 발생 할 수 있다.
            * 주로 프로그램의 오류가 있을 때 발생하도록 의도된 것들이다.
            * 대표적으로... 그.. 악명높은 NullPointerException!
* 복구하지 못할 예러라면 애플리케이션 코드에서 런타임 예외로 포장하여 던지고 예외처리 서비스 등을 활용하여 로그를 알리며 사용자에게는 안내를 해주는게 더 적절한 처리일 수 있다.

## 예외처리 방법

* 예외 복구
    * 예외상황을 파악하고 문제를 해결해서 정상 상태로 돌려놓는다.
* 예외처리 회피
    * 예외처리를 자신이 담당하지 않고 자신을 호출한 쪽으로 던져버린다.
    * 또는 로그를 남기고 다시 예외를 던진다.
* 예외 전환
    * 예외를 메소드 밖으로 던지나, 적절한 예외로 전환해서 던진다.
    * 예외 전환을 사용할때 전환된 예외를 기존 예외에 담아서 중첩 예외를 만들어서 던지는게 좋다.
    * 이러한 중첩 예외는 getCause() 메소드를 사용하여 예외 스택을 볼 수 있기 때문이다.
    * 주로 체크 예외를 언체크 예외인 런타임 예외로 바꾸는 경우에 사용된다.
